{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","_frontapp/app.js","app.js","_frontapp/frontpage.js","_frontapp/newsletter.js","_frontapp/slack-invite.js","_frontapp/util.js","node_modules/calendarth/src/calendarth.js","node_modules/calendarth/src/index.js","node_modules/calendarth/src/item.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Front","SlackApp","front","init","slackApp","email_container","cta","form","./frontpage","./newsletter","./slack-invite",2,"calendarth","util","this","$agendaContainer","$agendaItem","$error","MAX_EVENTS_SHOW","prototype","$","apiKey","calendarId","maxResults","fetch","_handleCalResult","bind","err","data","empty","append","clone","removeClass","meetups","displayed","lineCounter","htmlOutput","items","forEach","item","indexOf","summary","push","_assignValues","$item","find","addClass","$title","text","_parseDesc","description","getDate","start","getTime","location","locationOutput","venue","substr","mapUrl","html","$moreInfo","infoUrl","eventURL","eventId","lastIndexOf","attr","parent","RSVP","after","about","descr","out","language","rest","lines","split","line","splitPos","key","toLowerCase","trim","value","./util",3,"newsletter","mceInit","options","url","type","dataType","contentType","submit","ev","hide","preventDefault","email","EMAIL","serialize","success","resp","mceSuccess","button","ajax","result","msg","index","parts","undefined","parseInt","toString","show",4,"Slack","X_API_KEY","SUBSCRIBE_URL","$emailEl","$ctaEl","$formEl","attachEvents","on","handleFormSubmit","that","val","subscribe","cb","test","method","headers","x-api-key","res","error",5,"days","months","nl2br","str","join","formatDate","end","startDate","endDate","isMultiDay","dateTime","Date","date","getDay","getMonth","getHours","twoDigit","getMinutes","dt","num",6,"Item","Calendarth","calendarUrl","toISOString","crossDomain","done","fail","jqXHR","textStatus","errorThrown","getEventUrl","eventItem","linkParts","htmlLink","encodeURIComponent","organizer","./item",7,"./calendarth",8,"calendarObj","get","optProp"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n * SKGTech\n * Thessaloniki Tech Community\n * https://github.com/skgtech/skgtech.github.io\n *\n * Copyright ©2015 SKGTech Contributors.\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Frontend application bootstrap file\n */\n\nvar Front = require('./frontpage');\nvar SlackApp = require('./slack-invite');\nrequire('./newsletter');\n\nvar front = new Front();\nfront.init();\n\nvar slackApp = new SlackApp();\nslackApp.init({\n  email_container: '.slack-subscribe-email',\n  cta: '.slack-subscribe-button',\n  form: '.slack-form'\n});\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\n * SKGTech\n * Thessaloniki Tech Community\n * https://github.com/skgtech/skgtech.github.io\n *\n * Copyright ©2015 SKGTech Contributors.\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Frontend application bootstrap file\n */\n\nvar Front = require('./frontpage');\nvar SlackApp = require('./slack-invite');\nrequire('./newsletter');\n\nvar front = new Front();\nfront.init();\n\nvar slackApp = new SlackApp();\nslackApp.init({\n  email_container: '.slack-subscribe-email',\n  cta: '.slack-subscribe-button',\n  form: '.slack-form'\n});\n\n},{\"./frontpage\":2,\"./newsletter\":3,\"./slack-invite\":4}],2:[function(require,module,exports){\n/**\n * @fileOverview scripts about the frontpage.\n */\n\nvar calendarth = require('calendarth');\n\nvar util = require('./util');\n\nvar Front = module.exports = function() {\n  this.$agendaContainer = null;\n  this.$agendaItem = null;\n  this.$error = null;\n};\n\n/** @const {number} Maximum events to display, use an even number */\nFront.MAX_EVENTS_SHOW = 8;\n\n/**\n * Initialize the frontpage view.\n *\n */\nFront.prototype.init = function() {\n  this.$agendaContainer = $('#agenda-items');\n  this.$agendaItem = $('#agenda-tpl');\n  this.$error = $('#agenda-error');\n\n  this.calendarth = calendarth({\n    apiKey: 'AIzaSyC75rnKyEkGxmVyG7hlqFicwPBgDmQLN_w',\n    calendarId: '2ul10sd9g30mnk1vpmcnnp5qv4@group.calendar.google.com',\n    maxResults: 12\n  });\n\n  this.calendarth.fetch(this._handleCalResult.bind(this));\n\n};\n\n/**\n * Handle incoming calendarth data.\n *\n * @param {?string|Error} err Possible error message.\n * @param {Object=} data The calendar data object.\n * @private\n */\nFront.prototype._handleCalResult = function(err, data) {\n  this.$agendaContainer.empty();\n  if (err) {\n    this.$agendaContainer.append(this.$error.clone().removeClass('hide'));\n    return;\n  }\n\n  var meetups = [];\n  var displayed = 0;\n  var lineCounter = 0;\n  var htmlOutput = '';\n  data.items.forEach(function(item) {\n    if (displayed >= Front.MAX_EVENTS_SHOW) {\n      return;\n    }\n\n    if (meetups.indexOf(item.summary) > -1) {\n      return;\n    } else {\n      meetups.push(item.summary);\n    }\n\n    if (displayed && displayed % 1 === 0) {\n      // rows\n      // htmlOutput += '</div><div class=\"row\">';\n    }\n    htmlOutput += this._assignValues(this.$agendaItem.clone(), item, lineCounter);\n    displayed++;\n    lineCounter++;\n    if (lineCounter > 1) {\n      lineCounter = 0;\n    }\n  }, this);\n\n  htmlOutput += '';\n  this.$agendaContainer.append(htmlOutput);\n};\n\n/**\n * Assign the Calendar item values to the Calendar item element.\n *\n * @param {jQuery} $item A jquery item we will manipulate.\n * @param {Object} item Google Calendar item.\n * @param {number} lineCounter The current line counter.\n * @return {string} The html representation.\n * @private\n */\nFront.prototype._assignValues = function($item, item, lineCounter) {\n  $item.removeClass('hide');\n\n  $item.find('article.calendar-entry').addClass('calendar-entry-' + lineCounter);\n  $item.find('.title').addClass('title-' + lineCounter);\n\n  var $title = $item.find('.title');\n  $title.text(item.summary);\n\n  var data = this._parseDesc(item.description);\n\n  $item.find('.date').text(util.getDate(item.start));\n  $item.find('.time').text(util.getTime(item.start));\n\n  var location = null;\n  var locationOutput = '';\n  if (data.venue) {\n    location = data.venue;\n  } else {\n    location = item.location;\n  }\n\n  // chop down length\n  if (location.length > 80) {\n    location = location.substr(0, 75) + '...';\n  }\n\n  if (data.mapUrl) {\n    locationOutput = '<a href=\"' + data.mapUrl + '\" target=\"_blank\">';\n    locationOutput += location;\n    locationOutput += '</a>';\n  } else {\n    locationOutput = location;\n  }\n\n\n  $item.find('.location-name').html(locationOutput);\n  var $moreInfo = $item.find('.more-info');\n\n  if (data.infoUrl) {\n    var eventURL = data.infoUrl,\n        eventId = eventURL.lastIndexOf('/');\n\n    $moreInfo.attr('href', eventURL);\n    $title.parent().attr('href', eventURL);\n\n    // If it is a meetup.com meetup add a RSVP button\n    if (eventURL.indexOf(\"meetup.com\") > -1) {\n      var RSVP = \"<div class='meetup-rsvp'><a href='\"+eventURL+\"' data-event='\"+eventId+\"' class='mu-rsvp-btn'>RSVP</a></div>\";\n      $moreInfo.after(RSVP);\n    }\n  } else {\n    $moreInfo.addClass('hide');\n  }\n\n  if (data.about) {\n    $item.find('.details p').html(data.about);\n  } else {\n    $item.find('.details').addClass('hide');\n  }\n\n  return $item.html();\n};\n\n/**\n * Parse the description and generated info.\n *\n * @param {string} descr The description\n * @return {Object} An object containing the following properties:\n *   venue {?string} The venue where the event happens or null.\n *   info {?string} The informational url or null.\n *   map {?string} The map url or null.\n *   language {?string} The event language.\n * @private\n */\nFront.prototype._parseDesc = function(descr) {\n  var out = {\n    venue: null,\n    infoUrl: null,\n    mapUrl: null,\n    about: null,\n    language: null,\n    rest: ''\n  };\n  if (!descr) {\n    return out;\n  }\n  var lines = descr.split('\\n');\n  lines.forEach(function(line) {\n    if (!line.length) {\n      return;\n    }\n\n    var splitPos = line.indexOf(':');\n    if (splitPos === -1) {\n      return;\n    }\n\n    var key = line.substr(0, splitPos).toLowerCase().trim();\n    var value = line.substr(splitPos + 1).trim();\n\n    switch(key) {\n    case 'venue':\n      out.venue = value;\n      break;\n    case 'info':\n      out.infoUrl = value;\n      break;\n    case 'map':\n      out.mapUrl = value;\n      break;\n    case 'about':\n      out.about = value;\n      break;\n    case 'language':\n      out.language = value;\n      break;\n    default:\n      out.rest += line + '<br />';\n      break;\n    }\n  }, this);\n\n  return out;\n};\n\n},{\"./util\":5,\"calendarth\":7}],3:[function(require,module,exports){\n/**\n * @fileOverview The newsletter js for MailChimp\n */\n'use strict';\n\n(function() {\n  var newsletter = {};\n  // mailchimp code\n  newsletter.mceInit = function() {\n    var options = {\n      url: 'https://datablaster.us2.list-manage.com/subscribe/post-json?u=249dbe460c3c1857a489dde05&amp;id=b926e92856&c=?',\n      type: 'GET',\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    };\n\n    $('#mc-embedded-subscribe-form').submit(function(ev){\n      $('.response').hide();\n      ev.preventDefault();\n\n      // form position\n      var email = this.EMAIL.value;\n      options.data = $(this).serialize();\n      options.success = function(resp) {\n        newsletter.mceSuccess(resp, email);\n      };\n\n      $(this).find('button').button('loading');\n\n      $.ajax(options);\n\n      return false;\n    });\n  };\n\n  newsletter.mceSuccess = function(resp) {\n    if (resp.result === 'success'){\n      $('.newsletter').find('button').button('complete');\n      return;\n    }\n\n    var index = -1;\n    var msg;\n    try {\n      var parts = resp.msg.split(' - ',2);\n      if (parts[1] === undefined){\n        msg = resp.msg;\n      } else {\n        var i = parseInt(parts[0], 10);\n        if (i.toString() === parts[0]){\n          index = parts[0];\n          msg = parts[1];\n        } else {\n          index = -1;\n          msg = resp.msg;\n        }\n      }\n    } catch(e) {\n      index = -1;\n      msg = resp.msg;\n    }\n    $('.newsletter .field').addClass('has-error');\n    $('.newsletter').find('button').button('reset');\n\n    $('.js-error').show();\n    $('.js-error').html(msg);\n  };\n\n  newsletter.mceInit();\n})();\n\n},{}],4:[function(require,module,exports){\n/**\n * @fileOverview scripts about the Slack Invitation form.\n */\n\nvar Slack = module.exports = function () {};\n\n/** @const {string} X API KEY for AWS resource */\nSlack.X_API_KEY = 'DdBItuHAoE1HE36jjEdmh4Pbx8QpCgDh6Te60gnz';\n\n/** @const {string} API Endpoint to invite an email */\nSlack.SUBSCRIBE_URL = 'https://pv201ybrq8.execute-api.eu-west-1.amazonaws.com/prod/slack';\n\n/**\n * Initialize the frontpage view.\n *\n */\nSlack.prototype.init = function (options) {\n\n  if(!options.email_container){\n    throw 'Must set an input element selector';\n  }\n  if(!options.cta){\n    throw 'Must set a Call to Action element selector';\n  }\n\n  this.$emailEl = $(options.email_container);\n  this.$ctaEl = $(options.cta);\n  this.$formEl = $(options.form);\n\n  this.attachEvents();\n};\n\nSlack.prototype.attachEvents = function () {\n\n  this.$ctaEl.on('click', this.handleFormSubmit.bind(this));\n  this.$formEl.on('submit', this.handleFormSubmit.bind(this));\n};\n\nSlack.prototype.handleFormSubmit = function (e) {\n\n  var that = this;\n\n  e.preventDefault();\n  var email = that.$emailEl.val();\n  that.$ctaEl.button('loading');\n\n  that.subscribe(email, function(err){\n    $('.slack-alert').addClass('hidden');\n    if(err){\n      if(err === 'empty-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'wrong-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'already_in_team'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-already-subscribed').removeClass('hidden');\n      }\n      that.$ctaEl.button('reset');\n    } else {\n      $('.slack-alert.slack-welcome').removeClass('hidden');\n      that.$ctaEl.button('complete');\n    }\n  });\n}\n\nSlack.prototype.subscribe = function (email, cb) {\n\n  if(!email || !email.length){\n    cb('empty-email');\n    return false;\n  } else if(!(/^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/.test(email))){\n    cb('wrong-email');\n    return false;\n  }\n\n  $.ajax({\n    method: 'GET',\n    url: Slack.SUBSCRIBE_URL,\n    headers:{\n      \"x-api-key\":Slack.X_API_KEY\n    },\n    data: {\n      email: email\n    }\n  })\n    .success(function (res) {\n      if(res.error){\n        if(res.error === 'already_in_team'){\n          cb('already_in_team');\n        }\n\n        if(res.error === 'already_invited'){\n          cb('already_invited');\n        }\n      } else {\n        cb(null);\n      }\n    })\n    .error(function (err) {\n      cb('err');\n    });\n\n};\n\n},{}],5:[function(require,module,exports){\n/**\n * @fileOverview Utilities.\n */\nvar util = module.exports = {};\n\nvar days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sub'];\nvar months =['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n  'Oct', 'Nov', 'Dec'];\n\n/**\n * nl2br\n *\n * @param {string} str The string\n * @return {string}  A stirng with newlines turned to <br />\n */\nutil.nl2br = function(str) {\n  if (typeof str !== 'string') {\n    return '';\n  }\n\n  return str.split('\\n').join('<br />');\n};\n\n/**\n * Format a calendar start / end date to a single string\n *\n * @param {Object} start Start Object.\n * @param {Object} end End Object.\n * @return {string} Human readable string.\n */\nutil.formatDate = function(start, end) {\n  // check if we have a dateTime defined\n  var startDate;\n  var endDate;\n  var isMultiDay = false;\n  if (start.dateTime) {\n    startDate = new Date(start.dateTime);\n    endDate = new Date(end.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(start.date);\n    endDate = new Date(end.date);\n    // the substraction needs to happen because in Full Day events the end\n    // time will jump +3h because of timezone (+2) and DST (+1)\n    endDate = endDate - 11000000;\n    endDate = new Date(endDate);\n  }\n\n  // establish date\n  var out = days[startDate.getDay()];\n  out += ', ' + months[startDate.getMonth()];\n  out += ' ' + startDate.getDate();\n\n  if (isMultiDay) {\n    // multi-day event, check if it's just a single all-day\n    if (startDate.getDate() === endDate.getDate() && startDate.getMonth() ===\n      endDate.getMonth()) {\n      // single all day event\n      out += ', All day event';\n    } else {\n      // multi day\n      out += ' - ' + days[endDate.getDay()] + ' ' + endDate.getDate();\n    }\n  } else {\n    out += ' | ' + startDate.getHours() + ':' +\n      util.twoDigit(startDate.getMinutes());\n    out += ' - ' + endDate.getHours() + ':' +\n      util.twoDigit(endDate.getMinutes());\n  }\n\n  return out;\n};\n\n/**\n * Get the date out of a date format: dd MMM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getDate = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n  out += startDate.getDate();\n  out += ' ' + months[startDate.getMonth()];\n\n  return out;\n};\n\n/**\n * Get the time out of a date format: HH:MM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getTime = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n\n  if (isMultiDay) {\n    return 'All Day';\n  }\n\n  out += startDate.getHours();\n  out += ':' + util.twoDigit(startDate.getMinutes());\n  return out;\n};\n\n/**\n * Forces return of two digits by prepending 0 if length is 1.\n *\n * @param {number} num The number\n * @return {string} Two digit representation as string.\n */\nutil.twoDigit = function(num) {\n  var str = num + '';\n  if (str.length === 1) {\n    return '0' + str;\n  } else {\n    return str;\n  }\n};\n\n},{}],6:[function(require,module,exports){\n/*\n * Calendarth\n * Fetch a Public Google Calendar with AJAX\n * https://github.com/thanpolas/calendarth\n *\n * Copyright (c) 2014 Thanasis Polychronakis\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Google Calendar client, fetches and parses calendar items.\n */\n\nvar Item = require('./item');\n\n/**\n * The base class.\n *\n * @param {Object} options A dict with options to configure the Calendarth:\n *    @param {string} calendarId REQUIRED the calendar Id, looks like:\n *        djasldj23ljd23dj23ldj2%40group.calendar.google.com\n *    @param {string} apiKey A google API v3 key.\n * @constructor\n */\nvar Calendarth = module.exports = function(options) {\n  this.options = options || {};\n  this.apiKey = this.options.apiKey || null;\n  this.calendarId = this.options.calendarId || null;\n  this.maxResults = this.options.maxResults || 20;\n};\n\n/**\n * Fetch Calendar items.\n *\n * @param {Function(Error, Array.<Calendarth.Item>)} cb Node style callback.\n * @see https://github.com/thanpolas/calendarth/wiki/Google_Calendar_Object_v3\n */\nCalendarth.prototype.fetch = function(cb) {\n  var calendarUrl = 'https://www.googleapis.com/calendar/v3/calendars/';\n  calendarUrl += this.calendarId + '/events?key=';\n  calendarUrl += this.apiKey;\n\n  var dt = new Date();\n  calendarUrl += '&orderBy=startTime';\n  calendarUrl += '&singleEvents=true';\n  calendarUrl += '&timeMin=' + dt.toISOString();\n  calendarUrl += '&maxResults=' + this.maxResults;\n  $.ajax({\n    type: 'GET',\n    url: calendarUrl,\n    crossDomain: true,\n    dataType: 'json'\n  }).done(function(data) {\n    var item = new Item(data);\n    cb(null, item);\n  }).fail(function(jqXHR, textStatus, errorThrown) {\n    cb(errorThrown);\n  });\n};\n\n/**\n * Return a url that will perform the \"Add Event to Google Calendar\" action.\n *\n * @param {Object} eventItem The event data object.\n * @return {string} The event link to use in the anchor element.\n */\nCalendarth.prototype.getEventUrl = function(eventItem) {\n  var linkParts = eventItem.htmlLink.split('=');\n  var out = 'http://www.google.com/calendar/event?action=TEMPLATE&tmeid=';\n  out += linkParts[1];\n  out += '&tmsrc=';\n  out += encodeURIComponent(eventItem.organizer.email);\n  return out;\n};\n\n},{\"./item\":8}],7:[function(require,module,exports){\n/**\n * @fileOverview Library Bootstrap.\n */\n\nvar Calendarth = require('./calendarth');\n\n/**\n * The exported API, return a new instance of Calendarth.\n *\n * @param {Object} options Options.\n * @return {Calendarth} A new instance of Calendarth.\n */\nmodule.exports = function(options) {\n  return new Calendarth(options);\n};\n\n},{\"./calendarth\":6}],8:[function(require,module,exports){\n/**\n * @fileOverview A wrapper that provides helpers on the calendar object.\n */\n\n/**\n * A wrapper for the Google Calendar v3 Object.\n *\n * @param {Object} calendarObj The Google Calendar v3 Object.\n * @constructor\n */\nvar Item = module.exports = function(calendarObj) {\n  // stub return with same object for now...\n  return calendarObj;\n  // this.calendarObj = calendarObj;\n};\n\n/**\n * Get a property or the whole calendar object.\n * @param {string=} optProp optionally define a property.\n * @return {Object|*} The Object or whatever type the property value is.\n */\nItem.prototype.get = function(optProp) {\n  if (optProp) {\n    return this.calendarObj[optProp];\n  } else {\n    return this.calendarObj;\n  }\n};\n\n},{}]},{},[1])\n\n","/**\n * @fileOverview scripts about the frontpage.\n */\n\nvar calendarth = require('calendarth');\n\nvar util = require('./util');\n\nvar Front = module.exports = function() {\n  this.$agendaContainer = null;\n  this.$agendaItem = null;\n  this.$error = null;\n};\n\n/** @const {number} Maximum events to display, use an even number */\nFront.MAX_EVENTS_SHOW = 8;\n\n/**\n * Initialize the frontpage view.\n *\n */\nFront.prototype.init = function() {\n  this.$agendaContainer = $('#agenda-items');\n  this.$agendaItem = $('#agenda-tpl');\n  this.$error = $('#agenda-error');\n\n  this.calendarth = calendarth({\n    apiKey: 'AIzaSyC75rnKyEkGxmVyG7hlqFicwPBgDmQLN_w',\n    calendarId: '2ul10sd9g30mnk1vpmcnnp5qv4@group.calendar.google.com',\n    maxResults: 12\n  });\n\n  this.calendarth.fetch(this._handleCalResult.bind(this));\n\n};\n\n/**\n * Handle incoming calendarth data.\n *\n * @param {?string|Error} err Possible error message.\n * @param {Object=} data The calendar data object.\n * @private\n */\nFront.prototype._handleCalResult = function(err, data) {\n  this.$agendaContainer.empty();\n  if (err) {\n    this.$agendaContainer.append(this.$error.clone().removeClass('hide'));\n    return;\n  }\n\n  var meetups = [];\n  var displayed = 0;\n  var lineCounter = 0;\n  var htmlOutput = '';\n  data.items.forEach(function(item) {\n    if (displayed >= Front.MAX_EVENTS_SHOW) {\n      return;\n    }\n\n    if (meetups.indexOf(item.summary) > -1) {\n      return;\n    } else {\n      meetups.push(item.summary);\n    }\n\n    if (displayed && displayed % 1 === 0) {\n      // rows\n      // htmlOutput += '</div><div class=\"row\">';\n    }\n    htmlOutput += this._assignValues(this.$agendaItem.clone(), item, lineCounter);\n    displayed++;\n    lineCounter++;\n    if (lineCounter > 1) {\n      lineCounter = 0;\n    }\n  }, this);\n\n  htmlOutput += '';\n  this.$agendaContainer.append(htmlOutput);\n};\n\n/**\n * Assign the Calendar item values to the Calendar item element.\n *\n * @param {jQuery} $item A jquery item we will manipulate.\n * @param {Object} item Google Calendar item.\n * @param {number} lineCounter The current line counter.\n * @return {string} The html representation.\n * @private\n */\nFront.prototype._assignValues = function($item, item, lineCounter) {\n  $item.removeClass('hide');\n\n  $item.find('article.calendar-entry').addClass('calendar-entry-' + lineCounter);\n  $item.find('.title').addClass('title-' + lineCounter);\n\n  var $title = $item.find('.title');\n  $title.text(item.summary);\n\n  var data = this._parseDesc(item.description);\n\n  $item.find('.date').text(util.getDate(item.start));\n  $item.find('.time').text(util.getTime(item.start));\n\n  var location = null;\n  var locationOutput = '';\n  if (data.venue) {\n    location = data.venue;\n  } else {\n    location = item.location;\n  }\n\n  // chop down length\n  if (location.length > 80) {\n    location = location.substr(0, 75) + '...';\n  }\n\n  if (data.mapUrl) {\n    locationOutput = '<a href=\"' + data.mapUrl + '\" target=\"_blank\">';\n    locationOutput += location;\n    locationOutput += '</a>';\n  } else {\n    locationOutput = location;\n  }\n\n\n  $item.find('.location-name').html(locationOutput);\n  var $moreInfo = $item.find('.more-info');\n\n  if (data.infoUrl) {\n    var eventURL = data.infoUrl,\n        eventId = eventURL.lastIndexOf('/');\n\n    $moreInfo.attr('href', eventURL);\n    $title.parent().attr('href', eventURL);\n\n    // If it is a meetup.com meetup add a RSVP button\n    if (eventURL.indexOf(\"meetup.com\") > -1) {\n      var RSVP = \"<div class='meetup-rsvp'><a href='\"+eventURL+\"' data-event='\"+eventId+\"' class='mu-rsvp-btn'>RSVP</a></div>\";\n      $moreInfo.after(RSVP);\n    }\n  } else {\n    $moreInfo.addClass('hide');\n  }\n\n  if (data.about) {\n    $item.find('.details p').html(data.about);\n  } else {\n    $item.find('.details').addClass('hide');\n  }\n\n  return $item.html();\n};\n\n/**\n * Parse the description and generated info.\n *\n * @param {string} descr The description\n * @return {Object} An object containing the following properties:\n *   venue {?string} The venue where the event happens or null.\n *   info {?string} The informational url or null.\n *   map {?string} The map url or null.\n *   language {?string} The event language.\n * @private\n */\nFront.prototype._parseDesc = function(descr) {\n  var out = {\n    venue: null,\n    infoUrl: null,\n    mapUrl: null,\n    about: null,\n    language: null,\n    rest: ''\n  };\n  if (!descr) {\n    return out;\n  }\n  var lines = descr.split('\\n');\n  lines.forEach(function(line) {\n    if (!line.length) {\n      return;\n    }\n\n    var splitPos = line.indexOf(':');\n    if (splitPos === -1) {\n      return;\n    }\n\n    var key = line.substr(0, splitPos).toLowerCase().trim();\n    var value = line.substr(splitPos + 1).trim();\n\n    switch(key) {\n    case 'venue':\n      out.venue = value;\n      break;\n    case 'info':\n      out.infoUrl = value;\n      break;\n    case 'map':\n      out.mapUrl = value;\n      break;\n    case 'about':\n      out.about = value;\n      break;\n    case 'language':\n      out.language = value;\n      break;\n    default:\n      out.rest += line + '<br />';\n      break;\n    }\n  }, this);\n\n  return out;\n};\n","/**\n * @fileOverview The newsletter js for MailChimp\n */\n'use strict';\n\n(function() {\n  var newsletter = {};\n  // mailchimp code\n  newsletter.mceInit = function() {\n    var options = {\n      url: 'https://datablaster.us2.list-manage.com/subscribe/post-json?u=249dbe460c3c1857a489dde05&amp;id=b926e92856&c=?',\n      type: 'GET',\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    };\n\n    $('#mc-embedded-subscribe-form').submit(function(ev){\n      $('.response').hide();\n      ev.preventDefault();\n\n      // form position\n      var email = this.EMAIL.value;\n      options.data = $(this).serialize();\n      options.success = function(resp) {\n        newsletter.mceSuccess(resp, email);\n      };\n\n      $(this).find('button').button('loading');\n\n      $.ajax(options);\n\n      return false;\n    });\n  };\n\n  newsletter.mceSuccess = function(resp) {\n    if (resp.result === 'success'){\n      $('.newsletter').find('button').button('complete');\n      return;\n    }\n\n    var index = -1;\n    var msg;\n    try {\n      var parts = resp.msg.split(' - ',2);\n      if (parts[1] === undefined){\n        msg = resp.msg;\n      } else {\n        var i = parseInt(parts[0], 10);\n        if (i.toString() === parts[0]){\n          index = parts[0];\n          msg = parts[1];\n        } else {\n          index = -1;\n          msg = resp.msg;\n        }\n      }\n    } catch(e) {\n      index = -1;\n      msg = resp.msg;\n    }\n    $('.newsletter .field').addClass('has-error');\n    $('.newsletter').find('button').button('reset');\n\n    $('.js-error').show();\n    $('.js-error').html(msg);\n  };\n\n  newsletter.mceInit();\n})();\n","/**\n * @fileOverview scripts about the Slack Invitation form.\n */\n\nvar Slack = module.exports = function () {};\n\n/** @const {string} X API KEY for AWS resource */\nSlack.X_API_KEY = 'DdBItuHAoE1HE36jjEdmh4Pbx8QpCgDh6Te60gnz';\n\n/** @const {string} API Endpoint to invite an email */\nSlack.SUBSCRIBE_URL = 'https://pv201ybrq8.execute-api.eu-west-1.amazonaws.com/prod/slack';\n\n/**\n * Initialize the frontpage view.\n *\n */\nSlack.prototype.init = function (options) {\n\n  if(!options.email_container){\n    throw 'Must set an input element selector';\n  }\n  if(!options.cta){\n    throw 'Must set a Call to Action element selector';\n  }\n\n  this.$emailEl = $(options.email_container);\n  this.$ctaEl = $(options.cta);\n  this.$formEl = $(options.form);\n\n  this.attachEvents();\n};\n\nSlack.prototype.attachEvents = function () {\n\n  this.$ctaEl.on('click', this.handleFormSubmit.bind(this));\n  this.$formEl.on('submit', this.handleFormSubmit.bind(this));\n};\n\nSlack.prototype.handleFormSubmit = function (e) {\n\n  var that = this;\n\n  e.preventDefault();\n  var email = that.$emailEl.val();\n  that.$ctaEl.button('loading');\n\n  that.subscribe(email, function(err){\n    $('.slack-alert').addClass('hidden');\n    if(err){\n      if(err === 'empty-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'wrong-email'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-wrong-email').removeClass('hidden');\n      }\n      else if(err === 'already_in_team'){\n        $('.slack-form .field').addClass('has-error');\n        $('.slack-alert.slack-already-subscribed').removeClass('hidden');\n      }\n      that.$ctaEl.button('reset');\n    } else {\n      $('.slack-alert.slack-welcome').removeClass('hidden');\n      that.$ctaEl.button('complete');\n    }\n  });\n}\n\nSlack.prototype.subscribe = function (email, cb) {\n\n  if(!email || !email.length){\n    cb('empty-email');\n    return false;\n  } else if(!(/^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/.test(email))){\n    cb('wrong-email');\n    return false;\n  }\n\n  $.ajax({\n    method: 'GET',\n    url: Slack.SUBSCRIBE_URL,\n    headers:{\n      \"x-api-key\":Slack.X_API_KEY\n    },\n    data: {\n      email: email\n    }\n  })\n    .success(function (res) {\n      if(res.error){\n        if(res.error === 'already_in_team'){\n          cb('already_in_team');\n        }\n\n        if(res.error === 'already_invited'){\n          cb('already_invited');\n        }\n      } else {\n        cb(null);\n      }\n    })\n    .error(function (err) {\n      cb('err');\n    });\n\n};\n","/**\n * @fileOverview Utilities.\n */\nvar util = module.exports = {};\n\nvar days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sub'];\nvar months =['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n  'Oct', 'Nov', 'Dec'];\n\n/**\n * nl2br\n *\n * @param {string} str The string\n * @return {string}  A stirng with newlines turned to <br />\n */\nutil.nl2br = function(str) {\n  if (typeof str !== 'string') {\n    return '';\n  }\n\n  return str.split('\\n').join('<br />');\n};\n\n/**\n * Format a calendar start / end date to a single string\n *\n * @param {Object} start Start Object.\n * @param {Object} end End Object.\n * @return {string} Human readable string.\n */\nutil.formatDate = function(start, end) {\n  // check if we have a dateTime defined\n  var startDate;\n  var endDate;\n  var isMultiDay = false;\n  if (start.dateTime) {\n    startDate = new Date(start.dateTime);\n    endDate = new Date(end.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(start.date);\n    endDate = new Date(end.date);\n    // the substraction needs to happen because in Full Day events the end\n    // time will jump +3h because of timezone (+2) and DST (+1)\n    endDate = endDate - 11000000;\n    endDate = new Date(endDate);\n  }\n\n  // establish date\n  var out = days[startDate.getDay()];\n  out += ', ' + months[startDate.getMonth()];\n  out += ' ' + startDate.getDate();\n\n  if (isMultiDay) {\n    // multi-day event, check if it's just a single all-day\n    if (startDate.getDate() === endDate.getDate() && startDate.getMonth() ===\n      endDate.getMonth()) {\n      // single all day event\n      out += ', All day event';\n    } else {\n      // multi day\n      out += ' - ' + days[endDate.getDay()] + ' ' + endDate.getDate();\n    }\n  } else {\n    out += ' | ' + startDate.getHours() + ':' +\n      util.twoDigit(startDate.getMinutes());\n    out += ' - ' + endDate.getHours() + ':' +\n      util.twoDigit(endDate.getMinutes());\n  }\n\n  return out;\n};\n\n/**\n * Get the date out of a date format: dd MMM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getDate = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n  out += startDate.getDate();\n  out += ' ' + months[startDate.getMonth()];\n\n  return out;\n};\n\n/**\n * Get the time out of a date format: HH:MM\n *\n * @param {Object} start Start Object.\n * @return {string} Human readable string.\n */\nutil.getTime = function(dt) {\n  // check if we have a dateTime defined\n  var startDate;\n  var isMultiDay = false;\n  if (dt.dateTime) {\n    startDate = new Date(dt.dateTime);\n  } else {\n    isMultiDay = true;\n    startDate = new Date(dt.date);\n  }\n\n  var out = '';\n\n  if (isMultiDay) {\n    return 'All Day';\n  }\n\n  out += startDate.getHours();\n  out += ':' + util.twoDigit(startDate.getMinutes());\n  return out;\n};\n\n/**\n * Forces return of two digits by prepending 0 if length is 1.\n *\n * @param {number} num The number\n * @return {string} Two digit representation as string.\n */\nutil.twoDigit = function(num) {\n  var str = num + '';\n  if (str.length === 1) {\n    return '0' + str;\n  } else {\n    return str;\n  }\n};\n","/*\n * Calendarth\n * Fetch a Public Google Calendar with AJAX\n * https://github.com/thanpolas/calendarth\n *\n * Copyright (c) 2014 Thanasis Polychronakis\n * Licensed under the MIT license.\n */\n/**\n * @fileOverview Google Calendar client, fetches and parses calendar items.\n */\n\nvar Item = require('./item');\n\n/**\n * The base class.\n *\n * @param {Object} options A dict with options to configure the Calendarth:\n *    @param {string} calendarId REQUIRED the calendar Id, looks like:\n *        djasldj23ljd23dj23ldj2%40group.calendar.google.com\n *    @param {string} apiKey A google API v3 key.\n * @constructor\n */\nvar Calendarth = module.exports = function(options) {\n  this.options = options || {};\n  this.apiKey = this.options.apiKey || null;\n  this.calendarId = this.options.calendarId || null;\n  this.maxResults = this.options.maxResults || 20;\n};\n\n/**\n * Fetch Calendar items.\n *\n * @param {Function(Error, Array.<Calendarth.Item>)} cb Node style callback.\n * @see https://github.com/thanpolas/calendarth/wiki/Google_Calendar_Object_v3\n */\nCalendarth.prototype.fetch = function(cb) {\n  var calendarUrl = 'https://www.googleapis.com/calendar/v3/calendars/';\n  calendarUrl += this.calendarId + '/events?key=';\n  calendarUrl += this.apiKey;\n\n  var dt = new Date();\n  calendarUrl += '&orderBy=startTime';\n  calendarUrl += '&singleEvents=true';\n  calendarUrl += '&timeMin=' + dt.toISOString();\n  calendarUrl += '&maxResults=' + this.maxResults;\n  $.ajax({\n    type: 'GET',\n    url: calendarUrl,\n    crossDomain: true,\n    dataType: 'json'\n  }).done(function(data) {\n    var item = new Item(data);\n    cb(null, item);\n  }).fail(function(jqXHR, textStatus, errorThrown) {\n    cb(errorThrown);\n  });\n};\n\n/**\n * Return a url that will perform the \"Add Event to Google Calendar\" action.\n *\n * @param {Object} eventItem The event data object.\n * @return {string} The event link to use in the anchor element.\n */\nCalendarth.prototype.getEventUrl = function(eventItem) {\n  var linkParts = eventItem.htmlLink.split('=');\n  var out = 'http://www.google.com/calendar/event?action=TEMPLATE&tmeid=';\n  out += linkParts[1];\n  out += '&tmsrc=';\n  out += encodeURIComponent(eventItem.organizer.email);\n  return out;\n};\n","/**\n * @fileOverview Library Bootstrap.\n */\n\nvar Calendarth = require('./calendarth');\n\n/**\n * The exported API, return a new instance of Calendarth.\n *\n * @param {Object} options Options.\n * @return {Calendarth} A new instance of Calendarth.\n */\nmodule.exports = function(options) {\n  return new Calendarth(options);\n};\n","/**\n * @fileOverview A wrapper that provides helpers on the calendar object.\n */\n\n/**\n * A wrapper for the Google Calendar v3 Object.\n *\n * @param {Object} calendarObj The Google Calendar v3 Object.\n * @constructor\n */\nvar Item = module.exports = function(calendarObj) {\n  // stub return with same object for now...\n  return calendarObj;\n  // this.calendarObj = calendarObj;\n};\n\n/**\n * Get a property or the whole calendar object.\n * @param {string=} optProp optionally define a property.\n * @return {Object|*} The Object or whatever type the property value is.\n */\nItem.prototype.get = function(optProp) {\n  if (optProp) {\n    return this.calendarObj[optProp];\n  } else {\n    return this.calendarObj;\n  }\n};\n"],"sourceRoot":"/source/"}