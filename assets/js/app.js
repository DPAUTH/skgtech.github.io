!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./frontpage"),e=a("./slack-invite");a("./newsletter");var f=new d;f.init();var g=new e;g.init({email_container:".slack-subscribe-email",cta:".slack-subscribe-button"})},{"./frontpage":2,"./newsletter":3,"./slack-invite":4}],2:[function(a,b,c){var d=a("calendarth"),e=a("./util"),f=b.exports=function(){this.$agendaContainer=null,this.$agendaItem=null,this.$error=null};f.MAX_EVENTS_SHOW=8,f.prototype.init=function(){this.$agendaContainer=$("#agenda-items"),this.$agendaItem=$("#agenda-tpl"),this.$error=$("#agenda-error"),this.calendarth=d({apiKey:"AIzaSyC75rnKyEkGxmVyG7hlqFicwPBgDmQLN_w",calendarId:"2ul10sd9g30mnk1vpmcnnp5qv4@group.calendar.google.com",maxResults:12}),this.calendarth.fetch(this._handleCalResult.bind(this))},f.prototype._handleCalResult=function(a,b){if(this.$agendaContainer.empty(),a)return void this.$agendaContainer.append(this.$error.clone().removeClass("hide"));var c=[],d=0,e=0,g="";b.items.forEach(function(a){d>=f.MAX_EVENTS_SHOW||c.indexOf(a.summary)>-1||(c.push(a.summary),g+=this._assignValues(this.$agendaItem.clone(),a,e),d++,e++,e>2&&(e=0))},this),g+="",this.$agendaContainer.append(g)},f.prototype._assignValues=function(a,b,c){a.removeClass("hide"),console.log("WTF:",a.find("article.calendar-entry")),a.find("article.calendar-entry").addClass("calendar-entry-"+c),a.find(".title").addClass("title-"+c),a.find(".title").text(b.summary);var d=this._parseDesc(b.description);a.find(".date").text(e.getDate(b.start)),a.find(".time").text(e.getTime(b.start));var f=null,g="";return f=d.venue?d.venue:b.location,f.length>12&&(f=f.substr(0,9)+"..."),d.mapUrl?(g='<a href="'+d.mapUrl+'" target="_blank">',g+=f,g+="</a>"):g=f,a.find(".location-name").html(g),d.infoUrl?a.find(".more-info").attr("href",d.infoUrl):a.find(".more-info").addClass("hide"),d.about?a.find(".details p").html(d.about):a.find(".details").addClass("hide"),a.html()},f.prototype._parseDesc=function(a){var b={venue:null,infoUrl:null,mapUrl:null,about:null,language:null,rest:""};if(!a)return b;var c=a.split("\n");return c.forEach(function(a){if(a.length){var c=a.indexOf(":");if(-1!==c){var d=a.substr(0,c).toLowerCase().trim(),e=a.substr(c+1).trim();switch(d){case"venue":b.venue=e;break;case"info":b.infoUrl=e;break;case"map":b.mapUrl=e;break;case"about":b.about=e;break;case"language":b.language=e;break;default:b.rest+=a+"<br />"}}}},this),b}},{"./util":5,calendarth:7}],3:[function(a,b,c){"use strict";!function(){var a={};a.mceInit=function(){var b={url:"https://datablaster.us2.list-manage.com/subscribe/post-json?u=249dbe460c3c1857a489dde05&amp;id=b926e92856&c=?",type:"GET",dataType:"json",contentType:"application/json; charset=utf-8"};$("#mc-embedded-subscribe-form").submit(function(c){$(".response").hide(),c.preventDefault();var d=this.EMAIL.value;return b.data=$(this).serialize(),b.success=function(b){a.mceSuccess(b,d)},$.ajax(b),!1})},a.mceSuccess=function(a){if("success"===a.result)return $("#mc-embedded-subscribe-form").hide(),void $(".thankyou").removeClass("hide");var b,c=-1;try{var d=a.msg.split(" - ",2);if(void 0===d[1])b=a.msg;else{var e=parseInt(d[0],10);e.toString()===d[0]?(c=d[0],b=d[1]):(c=-1,b=a.msg)}}catch(f){c=-1,b=a.msg}$(".js-error").show(),$(".js-error").html(b)},a.mceInit()}()},{}],4:[function(a,b,c){var d=b.exports=function(){};d.TOKEN="xoxp-3330967421-3332061266-7344001762-99c6a8",d.SUBSCRIBE_URL="https://skgtech.slack.com/api/users.admin.invite",d.prototype.init=function(a){if(!a.email_container)throw"Must set an input element selector";if(!a.cta)throw"Must set a Call to Action element selector";this.$emailEl=$(a.email_container),this.$ctaEl=$(a.cta),this.attachEvents()},d.prototype.attachEvents=function(){var a=this;this.$ctaEl.on("click",function(b){b.preventDefault();var c=a.$emailEl.val();a.subscribe(c,function(b){b&&a.$emailEl.addClass("error")})})},d.prototype.subscribe=function(a,b){return a&&a.length?/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)?void $.ajax({method:"POST",url:d.SUBSCRIBE_URL,data:{email:a,token:d.TOKEN,set_active:!0}}).success(function(a){a.error?"already_in_team"===a.error&&b("already_in_team"):b(null)}).error(function(a){b("err")}):(b("wrong-email"),!1):(b("empty-email"),!1)}},{}],5:[function(a,b,c){var d=b.exports={},e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sub"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];d.nl2br=function(a){return"string"!=typeof a?"":a.split("\n").join("<br />")},d.formatDate=function(a,b){var c,g,h=!1;a.dateTime?(c=new Date(a.dateTime),g=new Date(b.dateTime)):(h=!0,c=new Date(a.date),g=new Date(b.date),g-=11e6,g=new Date(g));var i=e[c.getDay()];return i+=", "+f[c.getMonth()],i+=" "+c.getDate(),h?i+=c.getDate()===g.getDate()&&c.getMonth()===g.getMonth()?", All day event":" - "+e[g.getDay()]+" "+g.getDate():(i+=" | "+c.getHours()+":"+d.twoDigit(c.getMinutes()),i+=" - "+g.getHours()+":"+d.twoDigit(g.getMinutes())),i},d.getDate=function(a){var b,c=!1;a.dateTime?b=new Date(a.dateTime):(c=!0,b=new Date(a.date));var d="";return d+=b.getDate(),d+=" "+f[b.getMonth()]},d.getTime=function(a){var b,c=!1;a.dateTime?b=new Date(a.dateTime):(c=!0,b=new Date(a.date));var e="";return c?"All Day":(e+=b.getHours(),void(e+=":"+d.twoDigit(b.getMinutes())))},d.twoDigit=function(a){var b=a+"";return 1===b.length?"0"+b:b}},{}],6:[function(a,b,c){var d=a("./item"),e=b.exports=function(a){this.options=a||{},this.apiKey=this.options.apiKey||null,this.calendarId=this.options.calendarId||null,this.maxResults=this.options.maxResults||20};e.prototype.fetch=function(a){var b="https://www.googleapis.com/calendar/v3/calendars/";b+=this.calendarId+"/events?key=",b+=this.apiKey;var c=new Date;b+="&orderBy=startTime",b+="&singleEvents=true",b+="&timeMin="+c.toISOString(),b+="&maxResults="+this.maxResults,$.ajax({type:"GET",url:b,crossDomain:!0,dataType:"json"}).done(function(b){var c=new d(b);a(null,c)}).fail(function(b,c,d){a(d)})},e.prototype.getEventUrl=function(a){var b=a.htmlLink.split("="),c="http://www.google.com/calendar/event?action=TEMPLATE&tmeid=";return c+=b[1],c+="&tmsrc=",c+=encodeURIComponent(a.organizer.email)}},{"./item":8}],7:[function(a,b,c){var d=a("./calendarth");b.exports=function(a){return new d(a)}},{"./calendarth":6}],8:[function(a,b,c){var d=b.exports=function(a){return a};d.prototype.get=function(a){return a?this.calendarObj[a]:this.calendarObj}},{}]},{},[1]);